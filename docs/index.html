<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Learned Index Papers</title>
    
    <!-- Favicon settings -->
    <link rel="icon" type="image/png" href="favicon.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="favicon.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48" />
    <link rel="apple-touch-icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="favicon.png" sizes="180x180" />
    <link rel="shortcut icon" href="favicon.png" />
    <meta name="msapplication-TileImage" content="favicon.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header>
      <h1>Learned Index Papers</h1>
      <p>Papers citing "<a href="https://dl.acm.org/doi/10.1145/3183713.3196909" target="_blank">The Case for Learned Index Structures</a>"</p>
    </header>

    <nav class="tabs">
      <button class="tab-btn active" data-tab="papers">論文一覧</button>
      <button class="tab-btn" data-tab="charts">統計グラフ</button>
      <button class="tab-btn" data-tab="authors">著者一覧</button>
    </nav>

    <section id="tab-papers" class="tab-content active">
      <div class="papers-header">
        <h2>論文一覧</h2>
        <div class="sort-controls">
          <span class="sort-label">ソート:</span>
          <button id="sort-citations" class="sort-btn active">被引用数順</button>
          <button id="sort-year" class="sort-btn">新しさ順</button>
        </div>
      </div>
      
      <div class="filter-section">
        <button id="filter-toggle" class="filter-toggle">
          <span class="toggle-text">タグで絞り込み</span>
          <span class="toggle-icon">▼</span>
        </button>
        <div id="filter-content" class="filter-content collapsed">
          <div class="tag-filters">
            <div id="tag-checkboxes" class="tag-checkboxes"></div>
            <button id="clear">クリア</button>
          </div>
          <div class="filter-help">※ 複数のタグを選択するとAND検索になります</div>
        </div>
      </div>
      
      <div class="filter-section">
        <button id="author-filter-toggle" class="filter-toggle">
          <span class="toggle-text">著者で絞り込み</span>
          <span class="toggle-icon">▼</span>
        </button>
        <div id="author-filter-content" class="filter-content collapsed">
          <div class="author-filters">
            <div id="author-checkboxes" class="author-checkboxes"></div>
            <button id="clear-authors">クリア</button>
          </div>
          <div class="filter-help">※ 複数の著者を選択するとAND検索になります</div>
        </div>
      </div>
      
      <div class="filter-section">
        <button id="venue-filter-toggle" class="filter-toggle">
          <span class="toggle-text">学会・ジャーナルで絞り込み</span>
          <span class="toggle-icon">▼</span>
        </button>
        <div id="venue-filter-content" class="filter-content collapsed">
          <div class="venue-filters">
            <div id="venue-checkboxes" class="venue-checkboxes"></div>
            <button id="clear-venues">クリア</button>
          </div>
          <div class="filter-help">※ 複数の学会・ジャーナルを選択するとOR検索になります</div>
        </div>
      </div>
      
      <div class="filter-section">
        <button id="clear-all-filters" class="clear-all-btn">全ての絞り込みをクリア</button>
      </div>
      
      <div id="list" class="cards"></div>
    </section>

    <section id="tab-charts" class="tab-content">
      <h2>統計グラフ</h2>
      <div class="chart-container">
        <h3>年度別論文数</h3>
        <canvas id="byYear"></canvas>
      </div>
      <div class="chart-container">
        <h3>タグ別論文数 (上位20)</h3>
        <canvas id="byTag"></canvas>
      </div>
    </section>

    <section id="tab-authors" class="tab-content">
      <div class="authors-header">
        <h2>著者一覧</h2>
        <p class="authors-description">論文数が多い順</p>
      </div>
      <div class="authors-table-container">
        <div class="authors-controls">
          <div class="authors-info">
            <span id="authors-count">0</span> 人の著者
          </div>
          <div class="authors-pagination">
            <button id="prev-page" class="pagination-btn">← 前</button>
            <span id="page-info">1 / 1</span>
            <button id="next-page" class="pagination-btn">次 →</button>
          </div>
        </div>
        <table id="top-authors-table">
          <thead>
            <tr>
              <th>順位</th>
              <th>著者名</th>
              <th>論文数</th>
              <th>平均被引用数</th>
              <th>総被引用数</th>
              <th>主要タグ</th>
            </tr>
          </thead>
          <tbody id="top-authors-tbody"></tbody>
        </table>
      </div>
    </section>

    <section id="stats">
      <div class="stat"><div class="k" id="total_works">–</div><div class="v">論文数</div></div>
      <div class="stat"><div class="k" id="citations_sum">–</div><div class="v">総被引用数</div></div>
      <div class="stat"><div class="k" id="last_updated">–</div><div class="v">最終更新 (JST)</div></div>
    </section>

    <footer>
      <p>Built from OpenAlex data. This website is not affiliated with OpenAlex.</p>
      <p><a href="https://openalex.org/" target="_blank" rel="noopener">OpenAlex</a> • <a href="https://dl.acm.org/doi/10.1145/3183713.3196909" target="_blank" rel="noopener">RMI (DOI)</a></p>
      <p><a href="https://github.com/a-sato-ut/LearnedIndexPapers" target="_blank" rel="noopener">Source Code</a> • <a href="https://a-sato-ut.github.io/LearnedIndexPapers/" target="_blank" rel="noopener">Live Site</a></p>
    </footer>

    <script src="app.js"></script>
  </body>
</html> 